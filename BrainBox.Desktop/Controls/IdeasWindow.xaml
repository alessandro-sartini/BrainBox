<Window x:Class="BrainBox.Desktop.IdeasWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="clr-namespace:BrainBox.Desktop.Controls"
        Title="Gestione Idee - BrainBox" 
        Height="900" 
        Width="1400"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">

    <DockPanel Margin="20">

        <!-- Filtri in alto (DockPanel.Dock="Top") -->
        <controls:IdeaFilters DockPanel.Dock="Top"
                              x:Name="FiltersControl" 
                              Margin="0,0,0,20"/>

        <!-- Grid principale prende tutto il resto -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="350"/>
                <ColumnDefinition Width="20"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- LISTA IDEE -->
            <Border Grid.Column="0" 
                    Background="White" 
                    BorderBrush="#DDDDDD" 
                    BorderThickness="1" 
                    CornerRadius="8"
                    Padding="15">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <TextBlock Grid.Row="0" 
                              Text="📋 Le Mie Idee" 
                              FontSize="22" 
                              FontWeight="Bold"
                              Foreground="#333333"
                              Margin="0,0,0,15"/>

                    <ListBox Grid.Row="1" 
                             Name="IdeasListBox" 
                             BorderThickness="1"
                             BorderBrush="#DDDDDD"
                             Padding="10"
                             FontSize="15"
                             Margin="0,0,0,15"
                             SelectionChanged="IdeasListBox_SelectionChanged">
                        <ListBox.ItemContainerStyle>
                            <Style TargetType="ListBoxItem">
                                <Setter Property="Padding" Value="10"/>
                                <Setter Property="Margin" Value="0,2"/>
                            </Style>
                        </ListBox.ItemContainerStyle>
                    </ListBox>

                    <Button Grid.Row="2" 
                            Content="🔄 Ricarica Lista"
                            Height="45"
                            Background="#E0E0E0"
                            BorderThickness="0"
                            FontSize="14"
                            Cursor="Hand"
                            Click="Refresh_Click"/>
                </Grid>
            </Border>

            <!-- FORM CON SCROLL -->
            <Border Grid.Column="2" 
                    Background="White" 
                    BorderBrush="#DDDDDD" 
                    BorderThickness="1" 
                    CornerRadius="8">

                <ScrollViewer VerticalScrollBarVisibility="Auto" 
                              Padding="25">
                    <StackPanel>

                        <TextBlock Text="✨ Crea Nuova Idea" 
                                  FontSize="24" 
                                  FontWeight="Bold"
                                  Foreground="#333333"
                                  Margin="0,0,0,25"/>

                        <!-- Titolo Idea -->
                        <TextBlock Text="Titolo dell'idea" 
                                  FontWeight="SemiBold" 
                                  FontSize="14"
                                  Foreground="#555555"
                                  Margin="0,0,0,8"/>
                        <TextBox Name="TitleTextBox" 
                                 Height="45"
                                 Padding="10"
                                 FontSize="16"
                                 BorderBrush="#CCCCCC"
                                 BorderThickness="1"
                                 Margin="0,0,0,20"/>

                        <!-- Descrizione -->
                        <TextBlock Text="Descrizione dettagliata" 
                                  FontWeight="SemiBold" 
                                  FontSize="14"
                                  Foreground="#555555"
                                  Margin="0,0,0,8"/>
                        <TextBox Name="DescriptionTextBox"
                                 Padding="12"
                                 FontSize="15"
                                 BorderBrush="#CCCCCC"
                                 BorderThickness="1"
                                 Height="200"
                                 AcceptsReturn="True"
                                 TextWrapping="Wrap"
                                 VerticalScrollBarVisibility="Visible"
                                 Margin="0,0,0,20"/>

                        <!-- Temi -->
                        <controls:ThemeSelector x:Name="ThemeSelectorControl"
                                                Margin="0,0,0,25"/>

                        <!-- Pulsanti -->
                        <StackPanel Orientation="Horizontal" 
                                   HorizontalAlignment="Right"
                                   Margin="0,10,0,0">

                            <Button Content="🗑️ Elimina"
                                    Click="DeleteIdea_Click"
                                    Width="120"
                                    Height="45"
                                    FontSize="14"
                                    Background="#FFCDD2"
                                    Foreground="#D32F2F"
                                    BorderThickness="0"
                                    Margin="0,0,15,0"
                                    Cursor="Hand"/>

                            <Button Name="UpdateIdeaButton"
                                    Content="💾 Aggiorna"
                                    Click="UpdateIdea_Click"
                                    Width="120"
                                    Height="45"
                                    FontSize="14"
                                    Background="#FFB74D"
                                    Foreground="#E65100"
                                    BorderThickness="0"
                                    Margin="0,0,15,0"
                                    Cursor="Hand"
                                    IsEnabled="False"/>

                            <Button Content="← Home"
                                    Click="BackToHome_Click"
                                    Width="120"
                                    Height="45"
                                    FontSize="14"
                                    Background="#E0E0E0"
                                    Foreground="#616161"
                                    BorderThickness="0"
                                    Margin="0,0,15,0"
                                    Cursor="Hand"/>

                            <Button Content="➕ Crea Idea"
                                    Click="CreateIdea_Click"
                                    Width="150"
                                    Height="45"
                                    FontSize="15"
                                    FontWeight="Bold"
                                    Foreground="White"
                                    Background="#4CAF50"
                                    BorderThickness="0"
                                    Cursor="Hand"/>
                        </StackPanel>

                    </StackPanel>
                </ScrollViewer>
            </Border>
        </Grid>

    </DockPanel>
</Window>
