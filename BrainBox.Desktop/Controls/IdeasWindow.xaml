<Window x:Class="BrainBox.Desktop.IdeasWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="clr-namespace:BrainBox.Desktop.Controls"
        Title="Gestione Idee - BrainBox" 
        Height="700" 
        Width="1000"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">

    <Grid Margin="15">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="300"/>
            <!-- Lista idee -->
            <ColumnDefinition Width="15"/>
            <!-- Spazio -->
            <ColumnDefinition Width="*"/>
            <!-- Form/Dettaglio -->
        </Grid.ColumnDefinitions>

        <!-- ═══════════════════════════════════════ -->
        <!-- COLONNA SINISTRA: Lista Idee -->
        <!-- ═══════════════════════════════════════ -->
        <Border Grid.Column="0" 
                Background="White" 
                BorderBrush="#DDDDDD" 
                BorderThickness="1" 
                CornerRadius="8"
                Padding="15">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.Row="0" 
                          Text="📋 Le Mie Idee" 
                          FontSize="20" 
                          FontWeight="Bold"
                          Foreground="#333333"
                          Margin="0,0,0,15"/>

                <ListBox Grid.Row="1" 
                         Name="IdeasListBox" 
                         BorderThickness="1"
                         BorderBrush="#DDDDDD"
                         Padding="8"
                         FontSize="14"
                         Margin="0,0,0,10"
                         SelectionChanged="IdeasListBox_SelectionChanged">
                    <ListBox.ItemContainerStyle>
                        <Style TargetType="ListBoxItem">
                            <Setter Property="Padding" Value="10"/>
                            <Setter Property="Margin" Value="0,2"/>
                        </Style>
                    </ListBox.ItemContainerStyle>
                </ListBox>

                <Button Grid.Row="2" 
                        Content="🔄 Ricarica Lista"
                        Height="38"
                        Background="#E0E0E0"
                        BorderThickness="0"
                        FontSize="13"
                        Cursor="Hand"
                        Click="Refresh_Click"/>
            </Grid>
        </Border>

        <!-- ═══════════════════════════════════════ -->
        <!-- COLONNA DESTRA: Form Crea Idea -->
        <!-- ═══════════════════════════════════════ -->
        <Border Grid.Column="2" 
                Background="White" 
                BorderBrush="#DDDDDD" 
                BorderThickness="1" 
                CornerRadius="8"
                Padding="20">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Titolo -->
                <TextBlock Grid.Row="0" 
                          Text="✨ Crea Nuova Idea" 
                          FontSize="20" 
                          FontWeight="Bold"
                          Foreground="#333333"
                          Margin="0,0,0,25"/>

                <!-- Form Titolo -->
                <StackPanel Grid.Row="1">
                    <TextBlock Text="Titolo dell'idea" 
                              FontWeight="SemiBold" 
                              FontSize="13"
                              Foreground="#555555"
                              Margin="0,0,0,6"/>
                    <TextBox Name="TitleTextBox" 
                             Height="40"
                             Padding="10"
                             FontSize="14"
                             BorderBrush="#CCCCCC"
                             BorderThickness="1"
                             Margin="0,0,0,20"/>

                    <TextBlock Text="Descrizione dettagliata" 
                              FontWeight="SemiBold" 
                              FontSize="13"
                              Foreground="#555555"
                              Margin="0,0,0,6"/>
                </StackPanel>

                <!-- ═══════════════════════════════════════ -->
                <!-- MODIFICA APPLICATA QUI SOTTO -->
                <!-- ═══════════════════════════════════════ -->
                <Grid Grid.Row="2">
                    <Grid.RowDefinitions>
                        <!-- Descrizione: prende tutto lo spazio RIMANENTE -->
                        <RowDefinition Height="*"/>

                        <!-- Temi: prende lo spazio NECESSARIO (Auto) -->
                        <!-- Questo impedisce che la lista checkbox venga tagliata -->
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- TextBox Descrizione (PRIMA RIGA) -->
                    <TextBox Grid.Row="0"
                     Name="DescriptionTextBox"
                     Padding="10"
                     FontSize="14"
                     BorderBrush="#CCCCCC"
                     BorderThickness="1"
                     Margin="0,0,0,15"
                     AcceptsReturn="True"
                     TextWrapping="Wrap"
                     VerticalScrollBarVisibility="Auto"/>

                    <!-- Componente Temi (SECONDA RIGA) -->
                    <!-- Nota: x:Name deve corrispondere a quello usato nel file .cs -->
                    <controls:ThemeSelector Grid.Row="1"
                                            x:Name="ThemeSelectorControl"
                                            Margin="0,0,0,10"/>
                </Grid>


                <!-- Bottoni -->
                <StackPanel Grid.Row="3" Orientation="Horizontal" HorizontalAlignment="Right">

                    <!-- Bottone Elimina -->
                    <Button Content="🗑️ Elimina Idea"
                            Click="DeleteIdea_Click"
                            Width="140"
                            Height="42"
                            FontSize="13"
                            Background="#F44336"
                            Foreground="White"
                            BorderThickness="0"
                            Margin="0,0,10,0"
                            Cursor="Hand"/>

                    <!-- Bottone Aggiorna -->
                    <Button Name="UpdateIdeaButton"
                            Content="💾 Aggiorna"
                            Click="UpdateIdea_Click"
                            Width="110"
                            Height="42"
                            FontSize="13"
                            Background="#FF9800"
                            Foreground="White"
                            BorderThickness="0"
                            Margin="0,0,10,0"
                            Cursor="Hand"
                            IsEnabled="False"/>

                    <!-- Bottone Torna Home -->
                    <Button Content="← Torna alla Home"
                            Click="BackToHome_Click"
                            Width="140"
                            Height="42"
                            FontSize="13"
                            Background="#9E9E9E"
                            Foreground="White"
                            BorderThickness="0"
                            Margin="0,0,10,0"
                            Cursor="Hand"/>

                    <!-- Bottone Crea -->
                    <Button Content="➕ Crea Idea"
                            Click="CreateIdea_Click"
                            Width="140"
                            Height="42"
                            FontSize="14"
                            FontWeight="Bold"
                            Foreground="White"
                            Background="#4CAF50"
                            BorderThickness="0"
                            Cursor="Hand"/>
                </StackPanel>

            </Grid>
        </Border>
    </Grid>
</Window>
